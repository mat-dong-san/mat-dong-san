-- FAQ 시퀀스
create SEQUENCE seq_faqId; 
-- 보드 시퀀스
create SEQUENCE seq_noticeId;
-- 1대1 문의
create SEQUENCE seq_oneToOneId;
-- 중고장터
create SEQUENCE seq_usedId;

-- 조회수 bCount 추가
alter table board add (B_COUNT NUMBER DEFAULT 0);


-- 기본키 삭제 (게시판)
ALTER TABLE board DROP PRIMARY KEY;


-- 복합키 생성 (게시판 - B_ID,B_TYPE)
ALTER TABLE BOARD ADD CONSTRAINT PK_BOARD PRIMARY KEY (
	B_ID, B_TYPE
);


-- 컬럼 추가( BOARD_ATTACHMENT , BOARD_COMMENT [ 파일업로드, 댓글 테이블 )   B_TYPE 추가
ALTER TABLE BOARD_ATTACHMENT ADD B_TYPE VARCHAR2(100) NOT NULL;
ALTER TABLE BOARD_COMMENT ADD B_TYPE VARCHAR2(100) NOT NULL;

-- 컬럼 추가(REPORT_TARGET [신고대상 테이블] )  B_TYPE 추가
ALTER TABLE REPORT_TARGET ADD B_TYPE VARCHAR2(100) NOT NULL;


-- 외래키
-- 파일업로드, 댓글 테이블 (B_ID, B_TYPE)복합키 참조
ALTER TABLE BOARD_ATTACHMENT add FOREIGN KEY(B_ID,B_TYPE) REFERENCES BOARD(B_ID,B_TYPE);
ALTER TABLE BOARD_COMMENT add FOREIGN KEY(B_ID,B_TYPE) REFERENCES BOARD(B_ID,B_TYPE);

-- 멤버(MEMBER) 테이블의 US_ID 참조 (댓글테이블)
ALTER TABLE BOARD_COMMENT ADD FOREIGN KEY(US_ID) REFERENCES MEMBER(US_ID);

--  아직적용은 안함
-- ALTER TABLE BOARD ADD FOREIGN KEY(US_ID) REFERENCES MEMBER(US_ID);










